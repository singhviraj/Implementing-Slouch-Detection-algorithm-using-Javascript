<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/ClientSide/html.html to edit this template
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script>
               /*       
            function convert(o){
                let temp=0;
                let t =0;
                for(var i=0; i<4;i++){
                   var w =3-i;
                   if(o.charAt(i) == "A"){
                        t= 10*Math.pow(16,w);
                        temp =temp+t;
                    }
                    if(o.charAt(i) == "B"){
                        t= 11*Math.pow(16,w);
                        temp =temp+t;
                    }
                    if(o.charAt(i) == "C"){
                       t= 12*Math.pow(16,w);
                       temp =temp+t;
                    }
                    if(o.charAt(i) == "D"){
                       t= 13*Math.pow(16,w);
                       temp =temp+t;
                    }
                    if(o.charAt(i) == "E"){
                       t= 14*Math.pow(16,w);
                       temp =temp+t;
                    }
                    if(o.charAt(i) == "F"){
                       t= 15*Math.pow(16,w);
                       temp =temp+t;
                    }
                    if(typeof o.charAt(i) == "number"){
                        
                        t = o*Math.pow(16,w);
                        temp =temp+t;
                    }
                    }
                 return temp;
            }  */
            function condition( arr1 ){
                // in this function I converted each hecadecimal into is decimal by seperating each character 
                let sum =0,zaxis =0;
                for(var j=0;j<3;j++){
                    let p=0;
                let t =0;
                    let r = arr1[j];
                for(var i=0; i<4;i++){
                   var w =3-i;
                   if(r.charAt(i) == "A"){
                        t= 10*Math.pow(16,w);
                        p =p+t;
                    }
                    if(r.charAt(i) == "B"){
                        t= 11*Math.pow(16,w);
                        p =p+t;
                    }
                    if(r.charAt(i) == "C"){
                       t= 12*Math.pow(16,w);
                       p =p+t;
                    }
                    if(r.charAt(i) == "D"){
                       t= 13*Math.pow(16,w);
                       p =p+t;
                    }
                    if(r.charAt(i) == "E"){
                       t= 14*Math.pow(16,w);
                       p =p+t;
                    }
                    if(r.charAt(i) == "F"){
                       t= 15*Math.pow(16,w);
                       p =p+t;
                    }
                    if(typeof r.charAt(i) == "number"){
                        var r1 =r.charAt(i);// getting the character at the specified index
                        t = r1*Math.pow(16,w);
                        p =p+t;
                    }
                    }
                    if(p>32767){
           p=p-65535;
                }
     if(p<=32767){
                    p = p;
                }
          p=p/10000;
                    arr1[j] = p;
                    //document.write(arr1[j]);
                    sum =sum + Math.pow(arr1[j],2);
                    
                }
                  zaxis=arr1[2];
                  let mod = Math.sqrt(sum);
                  let result = zaxis/mod;
                  result = Math.acos(result);
                  result = (result*180)/3.14159  ; //converting radians to degree
                  document.write(result);
                  
          
               if(result>15){
                    document.write("person is slouching at this vertex");
                }
                if(result<15){
                    document.write("person is not slouching at this vertex");
                } 
            }
           function bang() {
  const xhttp = new XMLHttpRequest();
  xhttp.onload = function() {
    var x = this.responseText;
    let lines = x.split('\n');
    for (var i = 0; i < lines.length-1; i++) {
     let words =lines[i].split(',');
     for (var j = 0; j < words.length; j++)
     {   var k =3;
         if(k == j){
            let v1 = words[1];
             //h = convert(v);
             let v2 = words[2];
             let v3 = words[3];
             let arr =[]
             arr[0] = v1;arr[1] = v2;arr[2] = v3;
            
           condition(arr);
         break;
     }
     }
       }
  }
  xhttp.open("GET", "mds.txt");
  xhttp.send();
}
  </script>
        
    </head>
    <body>
    <div id="demo">
<p>Let us test the algorithm</p>
<button type="button" onclick="bang()">Change Content</button>
</div>
    </body>
</html>
